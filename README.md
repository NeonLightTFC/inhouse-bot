Still to-do:

* Fix-up picking (it should tell who's turn it is to pick)
* Use a "state" variable instead of a bunch of different ones